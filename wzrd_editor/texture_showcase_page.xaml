<Page
    x:Class="wzrd_editor.texture_showcase_page"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:graphics="using:graphics"
    xmlns:local="using:wzrd_editor"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.Resources>
        <DataTemplate x:Key="textures_list_template" x:DataType="graphics:texture" >
            <ListViewItem
                PointerEntered="onmouseenter_textures_list"
                PointerExited="onmouseexit_textures_list">
                <Image Source="{x:Bind bitmap_source}"></Image>
            </ListViewItem>
        </DataTemplate>
    </Page.Resources>

    <SplitView x:Name="split_pane" IsPaneOpen="False" DisplayMode="Inline" OpenPaneLength="800">
        <StackPanel>
            <Button x:Name="start_render" Click="render_onclick" Content="render"></Button>

            <Pivot x:Name="assets_pivot">
                <PivotItem Header="Textures">
                    <StackPanel Orientation="Vertical">
                        <CommandBar x:Name="textures_cmd_bar" Background="Transparent" IsOpen="False" DefaultLabelPosition="Right" HorizontalAlignment="Left">
                            <AppBarButton Icon="Add" Label="Add" x:Name="textures_picker" Click="onclick_menuflyout_pick_texture">
                                <!--<AppBarButton.Flyout>
                                    <MenuFlyout>
                                        <MenuFlyoutItem x:Name="menuflyout_texture_picker" Click="onclick_menuflyout_pick_texture" IsEnabled="True">
                                            <MenuFlyoutItem.Icon>
                                                <FontIcon Glyph="&#xE75C;"/>
                                            </MenuFlyoutItem.Icon>
                                            <MenuFlyoutItem.Text>Texture</MenuFlyoutItem.Text>
                                        </MenuFlyoutItem>

                                    </MenuFlyout>
                                </AppBarButton.Flyout>-->
                            </AppBarButton>

                            <AppBarButton Icon="Edit" Label="Edit"/>
                            <AppBarButton Icon="Delete" Label="Delete" x:Name="menuflyout_clear_textures" Click="menuflyout_clear_textures_click"/>
                        </CommandBar>

                        <ListView x:Name="textures_list" 
                                  HorizontalAlignment="Left"
                                  ItemTemplate="{StaticResource textures_list_template}"
                                  ItemsSource="{x:Bind texture_showcase_vm.textures}"
                                  VerticalContentAlignment="Stretch"
                                  Visibility="Visible">

                            <ListView.Resources>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="VerticalAlignment" Value="Stretch"></Setter>
                                    <Setter Property="VerticalContentAlignment" Value="Stretch"></Setter>
                                    <Setter Property="MaxHeight" Value="1000"></Setter>
                                    <Setter Property="MaxWidth" Value="1000"></Setter>
                                    <Setter Property="Width" Value="700"></Setter>
                                </Style>
                                <Style TargetType="Image">
                                    <Setter Property="Width" Value="100"></Setter>
                                    <Setter Property="Height" Value="100"></Setter>
                                    <Setter Property="VerticalAlignment" Value="Top"></Setter>
                                    <Setter Property="HorizontalAlignment" Value="Left"></Setter>
                                </Style>
                            </ListView.Resources>

                            <ListViewItem 
                               PointerEntered="onmouseenter_textures_list"
                               PointerExited="onmouseexit_textures_list"
                               PointerPressed="onclick_textures_list">
                                <Image x:Name="test_image2" ></Image>
                            </ListViewItem>

                            <ListViewItem 
                               PointerEntered="onmouseenter_textures_list"
                               PointerExited="onmouseexit_textures_list">
                                <Image  x:Name="test_image"></Image>
                            </ListViewItem>

                            <ListViewItem 
                               PointerEntered="onmouseenter_textures_list"
                               PointerExited="onmouseexit_textures_list">
                                <Image x:Name="test_image1"></Image>
                            </ListViewItem>

                        </ListView>
                    </StackPanel>
                </PivotItem>
                <PivotItem Header="Shaders">
                    <CommandBar x:Name="shaders_cmd_bar" Background="Transparent" IsOpen="False" DefaultLabelPosition="Right" HorizontalAlignment="Left">
                        <AppBarButton Icon="Add" Label="Add" x:Name="shaderPicker">
                            <AppBarButton.Flyout>
                                <MenuFlyout>
                                    <MenuFlyoutItem x:Name="pixelShaderPicker" Click="onclick_pixelshader_picker">
                                        <MenuFlyoutItem.Icon>
                                            <SymbolIcon Symbol="SelectAll"></SymbolIcon>
                                        </MenuFlyoutItem.Icon>
                                        <MenuFlyoutItem.Text>Pixel</MenuFlyoutItem.Text>
                                        <MenuFlyoutItem.KeyboardAccelerators>
                                            <KeyboardAccelerator Key="P" Modifiers="Shift"/>
                                        </MenuFlyoutItem.KeyboardAccelerators>
                                    </MenuFlyoutItem>

                                    <MenuFlyoutItem x:Name="vertexShaderPicker" Click="onclick_vertexshader_picker">
                                        <MenuFlyoutItem.Icon>
                                            <SymbolIcon Symbol="Play"></SymbolIcon>
                                        </MenuFlyoutItem.Icon>
                                        <MenuFlyoutItem.Text>Vertex</MenuFlyoutItem.Text>
                                        <MenuFlyoutItem.KeyboardAccelerators>
                                            <KeyboardAccelerator Key="V" Modifiers="Shift"/>
                                        </MenuFlyoutItem.KeyboardAccelerators>
                                    </MenuFlyoutItem>
                                </MenuFlyout>
                            </AppBarButton.Flyout>
                        </AppBarButton>

                        <AppBarButton Icon="Edit" Label="Edit"/>
                        <AppBarButton Icon="Delete" Label="Delete" x:Name="menuflyout_clear_shaders" Click="menuflyout_clear_shaders_click"/>
                    </CommandBar>
                </PivotItem>
            </Pivot>

        </StackPanel>
        <SplitView.Pane>
            <SwapChainPanel x:Name="swapchain_panel" Width="700" Height="700" HorizontalAlignment="Center" VerticalAlignment="Center" />
        </SplitView.Pane>

    </SplitView>
</Page>
